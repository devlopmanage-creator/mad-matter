---
const brands = [
  {
    name: "Tiles",
    image: "https://images.unsplash.com/photo-1616486338812-3dadae4b4ace?auto=format&fit=crop&w=600&h=400",
    description: "High-quality ceramic and porcelain tiles"
  },
  { 
    name: "WONDA", 
    image: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?auto=format&fit=crop&w=600&h=400",
    description: "Premium bathroom fixtures and fittings"
  },
  { 
    name: "JOMOO", 
    image: "https://images.unsplash.com/photo-1620626011761-996317b8d101?auto=format&fit=crop&w=600&h=400",
    description: "Innovative bathroom solutions"
  },
  { 
    name: "F.lli Frattini", 
    image: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&w=600&h=400",
    description: "Italian luxury faucets and fixtures"
  },
  { 
    name: "I-SPA", 
    image: "https://images.unsplash.com/photo-1507652313519-d4e9174996dd?auto=format&fit=crop&w=600&h=400",
    description: "Modern wellness solutions"
  },
  { 
    name: "Radaway", 
    image: "https://images.unsplash.com/photo-1576698483491-8c43f0862543?auto=format&fit=crop&w=600&h=400",
    description: "Premium shower solutions"
  },
  { 
    name: "Ramonsolar", 
    image: "https://images.unsplash.com/photo-1604709177225-055f99402ea3?auto=format&fit=crop&w=600&h=400",
    description: "Sustainable bathroom technology"
  },
  { 
    name: "TECE", 
    image: "https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?auto=format&fit=crop&w=600&h=400",
    description: "German engineering excellence"
  },
  { 
    name: "Stratoz", 
    image: "https://images.unsplash.com/photo-1601760562234-9814eea6663a?auto=format&fit=crop&w=600&h=400",
    description: "Contemporary bathroom design"
  },
  { 
    name: "nofer", 
    image: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&w=600&h=400",
    description: "Premium bathroom fixtures and accessories"
  },
  { 
    name: "La Concept Furniture", 
    image: "https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=600&h=400",
    description: "Modern furniture and bathroom solutions"
  }
];

const initialBrandsToShow = 6;
const remainingBrands = brands.slice(initialBrandsToShow);

---

<section id="brands" class="brands">
  <div class="container">
    <div class="header">
      <h2>Choose your brand</h2>
      <div class="divider"></div>
      <p>
        Choose from the world's most renowned sanitary brands to accommodate your bathroom/kitchen's unique style.
      </p>
    </div>

    <div class="image-grid">
        {brands.slice(0, initialBrandsToShow).map((brand, index) => (
          <a href="/services" class="grid-item" style="text-decoration: none; color: inherit;">
            <img src={brand.image} alt={brand.description} />
            <div class="brand-label">{brand.name}</div>
          </a>
        ))}
    </div>

    <!-- Hidden brands that will be shown when expanded -->
    <div class="image-grid expanded-brands" id="expandedBrands" style="display: none;">
        {remainingBrands.map((brand, index) => (
          <a href="/services" class="grid-item" style="text-decoration: none; color: inherit;">
            <img src={brand.image} alt={brand.description} />
            <div class="brand-label">{brand.name}</div>
          </a>
        ))}
    </div>

    <!-- Show More/Less Button -->
    <div class="show-more-container">
      <button id="showMoreBtn" class="show-more-btn">
        <span class="btn-text">Show More Brands</span>
        <svg class="btn-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="6,9 12,15 18,9"/>
        </svg>
      </button>
    </div>

  </div>
</section>

<style>
  .brands {
    padding-top: calc(var(--spacing-xl) * 2); /* Increased top padding for more space from FeaturesBar */
    padding-bottom: var(--spacing-xl);
    background-color: #15242a;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-md);
  }

  .header {
    text-align: center;
    margin-bottom: var(--spacing-xl);
    max-width: 600px;
    margin: 0 auto;
  }

  .header h2 {
    font-size: 3rem;
    font-weight: 300;
    color: white;
    margin-bottom: var(--spacing-md);
    line-height: 1.2;
  }
      .divider {
        width: 8rem;
        height: 1px;
        background-color: white;
        margin: 0 auto 2rem; /* Added bottom margin */
    }

  .header p {
    font-size: 1rem;
    color: #8b949e;
    margin-bottom: 2rem;
  }

  /* Main grid container with auto-adjusting columns */
  .image-grid {
    display: grid;
    /* Creates responsive columns that:
       - auto-fit: automatically fits as many columns as possible
       - minmax(280px, 1fr): each column is minimum 280px and grows equally
       This ensures the grid adapts to any screen size without empty spaces */
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    /* dense: fills in any gaps automatically for a compact layout */
    grid-auto-flow: dense;
    /* Sets a consistent height for grid rows */
    grid-auto-rows: 250px;
    gap: 1.5rem;
    margin-top: 2rem;
    padding: 0 1rem;
  }

  /* Base styles for grid items */
  .grid-item {
    position: relative;
    overflow: hidden;
    border-radius: 0.5rem;
    cursor: pointer;
    height: 100%;
  }

  .grid-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .grid-item:hover img {
    transform: scale(1.05);
  }

  .brand-label {
    position: absolute;
    bottom: 1rem;
    right: 1rem;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    color: white;
    font-size: 0.875rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }




  /* Tablet and smaller desktop screens */
  @media (max-width: 1024px) {
    .image-grid {
      /* Slightly smaller minimum column width for better fit */
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }
    
    /* Reset wide and large items to standard size for better mobile layout */
    .grid-item.wide,
    .grid-item.large {
      grid-column: auto;
      grid-row: auto;
    }
  }

  /* Tablet portrait and large mobile screens */
  @media (max-width: 768px) {
    .image-grid {
      /* Further reduce minimum column width */
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      /* Smaller row height for better mobile viewing */
      grid-auto-rows: 200px;
      /* Reduce gap between items */
      gap: 1rem;
    }

    /* Make tall items standard height on mobile */
    .grid-item.tall {
      grid-row: span 1;
    }
  }

  /* Mobile screens */
  @media (max-width: 480px) {
    .image-grid {
      /* Single column layout for mobile */
      grid-template-columns: 1fr;
      grid-auto-rows: 200px;
    }

    /* Ensure all items take full width */
    .grid-item {
      grid-column: 1 / -1;
    }
  }


  /* Show More Button Styles */
  .show-more-container {
    display: flex;
    justify-content: center;
    margin-top: 3rem;
    padding: 0 1rem;
  }

  .show-more-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
    border: 1px solid rgba(255, 255, 255, 0.2);
    color: white;
    padding: 1rem 2rem;
    border-radius: 50px;
    font-size: 0.9rem;
    font-weight: 500;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
  }

  .show-more-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.6s ease;
  }

  .show-more-btn:hover {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.2) 0%, rgba(255, 255, 255, 0.1) 100%);
    border-color: rgba(255, 255, 255, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 255, 255, 0.1);
  }

  .show-more-btn:hover::before {
    left: 100%;
  }

  .btn-icon {
    transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    flex-shrink: 0;
  }

  .show-more-btn:hover .btn-icon {
    transform: translateY(-1px);
  }

  .show-more-btn.expanded .btn-icon {
    transform: rotate(180deg);
  }

  .show-more-btn:active {
    transform: translateY(-1px) scale(0.98);
  }

  /* Expanded brands animation */
  .expanded-brands {
    animation: slideDown 0.5s ease-out;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Mobile adjustments for button */
  @media (max-width: 768px) {
    .show-more-container {
      margin-top: 2rem;
    }
    
    .show-more-btn {
      padding: 0.875rem 1.5rem;
      font-size: 0.85rem;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const showMoreBtn = document.getElementById('showMoreBtn');
    const expandedBrands = document.getElementById('expandedBrands');
    
    if (showMoreBtn && expandedBrands) {
      const btnText = showMoreBtn.querySelector('.btn-text');
      
      if (btnText) {
        showMoreBtn.addEventListener('click', function() {
          const isExpanded = expandedBrands.style.display !== 'none';
          
          if (isExpanded) {
            // Collapse
            expandedBrands.style.display = 'none';
            btnText.textContent = 'Show More Brands';
            showMoreBtn.classList.remove('expanded');
          } else {
            // Expand
            expandedBrands.style.display = 'grid';
            btnText.textContent = 'Show Less Brands';
            showMoreBtn.classList.add('expanded');
          }
        });
      }
    }
  });
</script>